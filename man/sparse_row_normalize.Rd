% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{sparse_row_normalize}
\alias{sparse_row_normalize}
\title{Row-Normalize Sparse Matrix}
\usage{
sparse_row_normalize(W)
}
\arguments{
\item{W}{Sparse matrix (Matrix package format).}
}
\value{
Row-normalized sparse matrix.
}
\description{
Normalizes each row of a sparse matrix to sum to 1 (or 0 for empty rows).
}
\details{
Row normalization ensures that spatial weights represent proper
averaging: each row sums to 1 (for non-isolated observations) or 0
(for isolated observations with no neighbors).
}
\examples{
library(Matrix)
W <- sparseMatrix(i = c(1,1,2,2,3,3), j = c(2,3,1,3,1,2),
                  x = c(1,2,1,1,3,1), dims = c(3,3))
W_norm <- sparse_row_normalize(W)
Matrix::rowSums(W_norm)  # All 1s

}
