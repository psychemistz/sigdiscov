% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/custom_weights.R
\name{load_weight_matrix}
\alias{load_weight_matrix}
\title{Load Custom Weight Matrix from File}
\usage{
load_weight_matrix(file, format = "auto", spot_names = NULL)
}
\arguments{
\item{file}{Path to weight matrix file.}

\item{format}{Format of the file: "auto" (default), "dense", "sparse_coo",
or "sparse_tsv". If "auto", the format is detected from file content.}

\item{spot_names}{Optional vector of spot names to use. If NULL, names are
read from the file.}
}
\value{
A square matrix (dense or sparse Matrix) with spot names as
row and column names.
}
\description{
Loads a spatial weight matrix from a file. Supports multiple formats
including dense TSV, sparse COO, and sparse TSV.
}
\details{
Supported formats:
\describe{
\item{dense}{Full matrix with spot names as header and first column.
Tab-separated values.}
\item{sparse_coo}{Coordinate format with three columns: row_idx, col_idx,
weight. Indices are 1-based or spot names.}
\item{sparse_tsv}{Three columns: spot1, spot2, weight. Spot names as
strings.}
}

The matrix is symmetrized if not already symmetric.
}
\examples{
\dontrun{
# Load dense matrix
W <- load_weight_matrix("weights_dense.tsv", format = "dense")

# Load sparse matrix
W <- load_weight_matrix("weights_sparse.tsv", format = "sparse_tsv")

# Use with pairwise_moran_custom
result <- pairwise_moran_custom(data, W)
}

}
